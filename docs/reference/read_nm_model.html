<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>NONMEM model file parser — read_nm_model • xpose</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="NONMEM model file parser — read_nm_model" />

<meta property="og:description" content="Parse NONMEM model files in R format" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xpose</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Getting started</li>
    <li>
      <a href="../reference/figures/cheatsheet.pdf">Cheat sheet (pdf)</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/import_model_outputs.html">Import model outputs</a>
    </li>
    <li>
      <a href="../articles/access_xpdb_data.html">Access xpdb data</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Going further</li>
    <li>
      <a href="../articles/customize_plots.html">Customize plots</a>
    </li>
    <li>
      <a href="../articles/multiple_pages.html">Multiple pages</a>
    </li>
    <li>
      <a href="../articles/vpc.html">Visual Predictive Checks (VPC)</a>
    </li>
    <li>
      <a href="../articles/interactive_plots.html">Create interactive plots (beta)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/bestiarium.html">Plots</a>
</li>
<li>
  <a href="../articles/faq.html">FAQ</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/about.html">About</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/UUPharmacometrics/xpose">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/UUPharmacometrics/xpose/releases">
    <span class="fa fa-download"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>NONMEM model file parser</h1>
    <small class="dont-index">Source: <a href='https://github.com/UUPharmacometrics/xpose/blob/master/R/read_nm_model.R'><code>R/read_nm_model.R</code></a></small>
    <div class="hidden name"><code>read_nm_model.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Parse NONMEM model files in R format</p>
    
    </div>

    <pre class="usage"><span class='fu'>read_nm_model</span>(<span class='kw'>runno</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>prefix</span> <span class='kw'>=</span> <span class='st'>"run"</span>, <span class='kw'>ext</span> <span class='kw'>=</span> <span class='st'>".lst"</span>,
  <span class='kw'>file</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>runno</th>
      <td><p>Run number to be used to generate model file name. Used in combination with <code>prefix</code> and <code>ext</code>.</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>Prefix to be used to generate model file name. Used in combination with <code>runno</code> and <code>ext</code>.</p></td>
    </tr>
    <tr>
      <th>ext</th>
      <td><p>Extension to be used to generate model file name.Should be one of '.lst' (default), '.out', '.res', '.mod' or '.ctl' for NONMEM.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>Model file name (preferably a '.lst' file) containing the file extension. Alternative to <code>prefix</code>,
<code>runno</code> and <code>ext</code> arguments.</p></td>
    </tr>
    <tr>
      <th>dir</th>
      <td><p>Location of the model files.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code><a href='https://dplyr.tidyverse.org/reference/reexports.html'>tibble</a></code> of class <code>model</code> containing the following columns:</p><ul>
<li><p><strong>problem</strong>: a numeric identifier for the $PROBLEM associated with the code.</p></li>
<li><p><strong>level</strong>: a unique numeric identifier to each subroutine block associated with the code.</p></li>
<li><p><strong>subroutine</strong>: a character identifier named after the 3 first letters of the subroutine name e.g. '$THETA' and 
 '$TABLE' will become 'the' and 'tab' respectively. In addition all output from the .lst is labeled 'lst', the general nonmem 
 output e.g. NM-TRAN messages are labelled 'oth'. With priors thp, tpv, omp, opd, sip, spd abbreviations are given to the THETAP, 
 THETAPV, OMEGAP, etc.</p></li>
<li><p><strong>code</strong>: the code without comments or subroutine names e.g. '$THETA 0.5 ; TVCL' will return '0.5'.</p></li>
<li><p><strong>comment</strong>: the last comment of a record e.g. '0.5 ; Clearance (L/h) ; TVCL' will return 'TVCL'.</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A NONMEM model output file (i.e. .lst, .out or .res) should preferably be provided to <code>read_nm_model</code> to allow for a more extensive xpose 
summary. However in some cases these output files may not contain the model code, thus preventing xpose from identifying the associated output 
tables names. In such cases xpose will attempt to read the associated model file (i.e. .mod or .ctl) instead to find the model code. Note: it 
is important that between the naming convention between the NONMEM output and the model file remains consistent e.g. run001.lst should be 
associated with run001.mod.</p>
    
    <h2 class="hasAnchor" id="file-path-generation"><a class="anchor" href="#file-path-generation"></a>File path generation</h2>

    
    <p>The rules for model file names generation are as follow:</p><ul>
<li><p>with <code>runno</code>: the full path is generated as <code>&lt;dir&gt;/&lt;prefix&gt;&lt;runno&gt;.&lt;ext&gt;</code> e.g. with <code>dir = 'model/pk'</code>, <code>prefix = 'run'</code>, <code>runno = '001'</code>, 
  <code>ext = '.lst'</code> the resulting path would be <code>model/pk/run001.lst</code></p></li>
<li><p>with <code>file</code>: the full path is generated as <code>&lt;dir&gt;/&lt;file&gt;</code> e.g. with <code>dir = 'model/pk'</code>, <code>file = 'run001.lst'</code> the resulting path
  would also be <code>model/pk/run001.lst</code>. Note: in this case the file extension should be provided as part of the `file` argument.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='xpose_data.html'>xpose_data</a></code>, <code><a href='read_nm_tables.html'>read_nm_tables</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># Using the `file` argument to import a model file:</span>
<span class='no'>nm_model</span> <span class='kw'>&lt;-</span> <span class='fu'>read_nm_model</span>(<span class='kw'>file</span> <span class='kw'>=</span> <span class='st'>'run001.lst'</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>'models'</span>)

<span class='co'># Using the `runno` argument to import a model file:</span>
<span class='no'>nm_model</span> <span class='kw'>&lt;-</span> <span class='fu'>read_nm_model</span>(<span class='kw'>runno</span> <span class='kw'>=</span> <span class='st'>'001'</span>, <span class='kw'>ext</span> <span class='kw'>=</span> <span class='st'>'.lst'</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>'models'</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#file-path-generation">File path generation</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/guiastrennec'>Benjamin Guiastrennec</a>, <a href='https://github.com/andrewhooker'>Andrew C. Hooker</a>, <a href='https://github.com/sebastianueckert'>Sebastian Ueckert</a>, <a href='https://katalog.uu.se/profile/?id=XX3384'>Mats O. Karlsson</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

